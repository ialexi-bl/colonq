@use './mixins/transition-presets';
@use 'sass:string';

// All transitions class names are of form
// route-{name}, route-enter-{name}, route-exit-{name}

@function get-selector($names, $postfixes) {
  $selector: '';
  @each $name in $names {
    @each $postfix in $postfixes {
      $selector: $selector + ', .' + $postfix + '-' + $name;
    }
  }
  @return string.slice($selector, 2);
}

@mixin enter-class-name($names...) {
  $selector: get-selector($names, (route, route-enter));
  #{$selector} {
    @content;
  }
}
@mixin exit-class-name($names...) {
  $selector: get-selector($names, (route, route-exit));
  #{$selector} {
    @content;
  }
}

.bg-page {
  background: theme('colors.secondary.1000');
  box-shadow: 0 0 10px rgba(0, 0, 0, 0.4);
}
@include enter-class-name(opacity) {
  @include transition-presets.opacity-start;
}
@include exit-class-name(opacity) {
  @include transition-presets.opacity-end;
}

@include enter-class-name(right, overlay) {
  @include transition-presets.right-start;
}
@include enter-class-name(left) {
  @include transition-presets.left-start;
}
@include enter-class-name(down) {
  @include transition-presets.down-start;
}
@include enter-class-name(up) {
  @include transition-presets.up-start;
}

@include exit-class-name(right, overlay) {
  @include transition-presets.right-end;
}
@include exit-class-name(left) {
  @include transition-presets.left-end;
}
@include exit-class-name(down) {
  @include transition-presets.down-end;
}
@include exit-class-name(up) {
  @include transition-presets.up-end;
}

// TODO: probably delete these
.route-right.route-opacity,
.route-enter-right.route-enter-opacity {
  @include transition-presets.right-opacity-start;
}
.route-left.route-opacity,
.route-enter-left.route-enter-opacity {
  @include transition-presets.left-opacity-start;
}
.route-down.route-opacity,
.route-enter-down.route-enter-opacity {
  @include transition-presets.down-opacity-start;
}
.route-up.route-opacity,
.route-enter-up.route-enter-opacity {
  @include transition-presets.up-opacity-start;
}

.route-right.route-opacity,
.route-exit-right.route-exit-opacity {
  @include transition-presets.right-opacity-end;
}
.route-left.route-opacity,
.route-exit-left.route-exit-opacity {
  @include transition-presets.left-opacity-end;
}
.route-down.route-opacity,
.route-exit-down.route-exit-opacity {
  @include transition-presets.down-opacity-end;
}
.route-up.route-opacity,
.route-exit-up.route-exit-opacity {
  @include transition-presets.up-opacity-end;
}
